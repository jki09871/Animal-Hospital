<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="animal">

    <insert id="signup" parameterType="com.review.dto.AnimalDTO">
        /** 회원 가입 **/
        INSERT INTO ANIMALOWNER
        (
        OWNERID,            /** 회원 아이디 **/
        OWNERPASSWORD,      /** 회원 비밀번호 **/
        OWNEREMAIL,         /** 회원 이메일 **/
        OWNERPHONENUMBER,   /** 회원 핸드폰번호 **/
        PETID               /** 동물 고유번호 **/
        )
        VALUES
        (
        #{OwnerId},
        #{OwnerPassword},
        #{OwnerEmail},
        #{OwnerPhoneNumber},
        #{petId}
        )
    </insert>

    <select id="login" parameterType="com.review.dto.AnimalDTO" resultType="com.review.dto.AnimalDTO">
        SELECT
            OWNERID,            /** 회원 아이디 **/
            OWNERPASSWORD,      /** 회원 비밀번호 **/
            OWNEREMAIL,         /** 회원 이메일 **/
            OWNERPHONENUMBER,   /** 회원 핸드폰번호 **/
            PETID               /** 동물 고유번호 **/
        FROM ANIMALOWNER
        WHERE OWNERID = #{OwnerId} AND OWNERPASSWORD = #{OwnerPassword}
    </select>

    <select id="EmailCheck" parameterType="hashMap" resultType="int">
        SELECT
            COUNT(*)
        FROM ANIMALOWNER
        WHERE OWNEREMAIL = #{OwnerEmail} OR OWNERID = #{OwnerId}
    </select>

</mapper>